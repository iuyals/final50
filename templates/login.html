{% extends "layout.html" %}

{% block title %}
Log In
{% endblock %}

{% block main %}
<form action="/login" method="post">
    <div class="form-group">
        <input autocomplete="off" autofocus class="form-control" name="username" placeholder="Username" type="text">
    </div>
    <div class="form-group">
        <input class="form-control" name="password" placeholder="Password" type="password">
    </div>
    <button class="btn btn-primary" type="submit" id="submit_btn">Log In</button>
</form>

<script>
    document.getElementById("submit_btn").addEventListener("click", function (event) {
        //stop button submitting form as normal, allows code check it
        
        //send typed username to /check route and only if response is true (meaning the username is available) submit the form
        username = $('input[name="username"]')
        password = $('input[name="password"]')
        if (username.val().length == 0 || password.val().length == 0) {
            event.preventDefault();
            alert("empty username or password!");
            reutrn
        }
        if (password.val().length < 8) {
            alert("password at least 8 charaters or numbers")
            event.preventDefault();
            return
        }
        
    });

</script>
{% endblock %}